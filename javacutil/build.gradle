repositories {
    mavenCentral()
}

dependencies {
    // This is used by org.checkerframework.javacutil.TypesUtils.isImmutableTypeInJdk.
    // https://mvnrepository.com/artifact/org.plumelib/plume-util
    // Keep version number in sync with ../maven-artifacts/release/javacutilReleasePom.xml .
    implementation 'org.plumelib:plume-util:1.1.4'

    implementation project(':checker-qual')
}

task deployArtifactsToLocalRepo(dependsOn: jar) {
    description "Deploys ${jar.archiveFileName.get()} to the local Maven repository. "
    doLast {
        mvnDeployToLocalRepo(project, "${rootDir}/maven-artifacts/release/javacutilReleasePom.xml".toString())
    }
}

task deployArtifactsToSonatype {
    description "Deploys ${jar.archiveFileName.get()} to the Sonatype repository"
    dependsOn ('jar', 'sourcesJar', 'javadocJar')
    doLast {
        mvnSignAndDeployMultipleToSonatype(project, "${rootDir}/maven-artifacts/release/javacutilReleasePom.xml".toString())
    }
}