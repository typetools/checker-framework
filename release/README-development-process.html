<!DOCTYPE html>
<html>
<head>
  <title>Checker Framework development process</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
<h1>Checker Framework development process</h1>

<p>
This document contains information about how to contribute to the Checker
Framework.  A separate document outlines the
<a href="README-release-process.html">release process</a>.
</p>

<p>
All of these are (to the best of our knowledge) standard development
practices.  These practices are not specific to the Checker Framework.
</p>

<h2>Coding style</h2>

<p>
When editing files in the Checker Framework,
see <a href="http://homes.cs.washington.edu/~mernst/advice/coding-style.html">Michael
Ernst's coding style guidelines</a>.  You may also wish to
see <a href="http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-136091.html#248">Oracle's
Java code conventions</a>.
</p>

<p>
The codebase conforms to a consistent indentation style, which is enforced
by a git pre-commit hook. The pre-commit hook runs <code>ant
check-format</code> in the top level directory. <code>ant reformat</code>
will format all files such that <code>ant check-format</code> succeeds.
</p>

<h2>Separate out unrelated changes</h2>

<p>
Each commit should address a single issue, rather than a commit addressing
multiple issues such as both fixing a bug, adding a feature, and changing
formatting.  Focusing each commit on a single issue makes the commit easier
to understand and review; it also eases diagnosis and (if necessary)
rollback.
</p>

<p>
Likewise, each pull request should address a single issue.
</p>

<h2>Pull requests</h2>

<p>
It is acceptable to commit small, noncontroversial changes directly to
master.  (This policy differs from some projects, which require an issue
tracker issue and a pull request for every change, however minor.)
For any change where you want feedback, or where others might have
useful comments or might disagree, please submit a pull request.  Be
conservative in your judgment; others might consider something
controversial that you do not.
</p>

<p>
Try to work on a branch if you are going to submit a pull request.
This enables others to make changes directly to your branch when that
is more efficient than leaving comments in a pull request.
</p>

<p>
Try to address pull requests promptly, to avoid stalling others while
waiting for your feedback.  If you have been waiting for a while after the
pull request was assigned with no feedback, then go ahead and push your
changes.  It's great if reviewers can give feedback, but if they are too
busy to do so, you should recognize that and move on.
A week is a ballpark figure, but the amount of time will vary depending on
circumstances.
</p>

<h2>Documenting refactoring ideas</h2>

<p>
If you have an idea for a code improvement (such as a refactoring), please
document it.  If it can be described concisely and is low priority,
a TODO comment in the code is more appropriate than an
enhancement request in the issue tracker.  The code comment is more likely
to be noticed by someone working with the code, and it is equally easy to
search for.  Furthermore, it doesn't clutter the issue tracker, which
reduces morale and makes the project appear lower-quality than it actually
is.
</p>

<h2>No <code>@author</code> tags</h2>

<p>
We don't use <code>@author</code> Javadoc tags in code files.
Doing so clutters the code, and is misleading because once that individual
is no longer maintaining the code.
Authorship (and who has made changes recently) can be obtained from the
version control system.
</p>

<h2>Version numbers for annotated libraries</h2>

<p>
Annotated libraries should be based on a released version of the upstream
library, not an arbitrary commit in the upstream library's version control
system.
</p>

<p>
When making a new version of an annotated library, between upstream
releases, add ".0.1" to the end of the version number.  For example, we
already uploaded version 6.2 to Maven Central, the next version would be
6.2.0.1.  This accommodates the possibility that the upstream maintainers
release 6.2.1.
</p>


</body>
</html>

<!--  LocalWords:  TODO
 -->
