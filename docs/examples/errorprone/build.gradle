// ///////////////////////////////////////////////////////////////////////////
// Checker Framework pluggable type-checking and Error Prone example
//

plugins {
  id("java")
  id("net.ltgt.errorprone").version("5.0.0")
  // Checker Framework pluggable type-checking
  id("org.checkerframework").version("1.0.2")
}


dependencies {
  errorprone("com.google.errorprone:error_prone_core:2.46.0")
}

repositories {
  mavenCentral()
}

checkerFramework {
  version = "local"
  checkers = [
    "org.checkerframework.checker.nullness.NullnessChecker",
  ]
}

compileJava {
  // A checker will only run if Error Prone does not issue any warnings.  So
  // convert the expected error to a warning to test that both Error Prone
  // and the Nullness Checker run.
  options.errorprone.warn("CollectionIncompatibleType")
}
